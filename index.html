<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ABDÜLKADİR'İ TOKATLAMA OYUNU</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#1e2f42;
  color:white;
  text-align:center;
}

#startScreen{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:10;
}

#startScreen input{
  padding:12px;
  font-size:18px;
  border-radius:10px;
  border:none;
  margin-bottom:15px;
}

#startScreen button{
  padding:12px 30px;
  font-size:18px;
  border:none;
  border-radius:10px;
  cursor:pointer;
}

#game{
  display:none;
}

h1{
  margin:15px 0;
}

#bar{
  width:80%;
  height:20px;
  background:#444;
  border-radius:10px;
  margin:10px auto;
  overflow:hidden;
}

#hp{
  height:100%;
  width:100%;
  background:lime;
}

img{
  width:260px;
  border-radius:20px;
  margin-top:20px;
  user-select:none;
}
</style>
</head>

<body>

<!-- BAŞLANGIÇ -->
<div id="startScreen">
  <h2>İsmini Yaz</h2>
  <input id="username" placeholder="İsmin">
  <button onclick="startGame()">Oyna</button>
</div>

<!-- OYUN -->
<div id="game">
  <h1>ABDÜLKADİR'İ TOKATLAMA OYUNU</h1>

  <div id="bar"><div id="hp"></div></div>

  <p>
    Tokat: <span id="hits">0</span><br>
    Rekor: <span id="record">0</span><br>
    Can: <span id="healthText">10000</span>
  </p>

  <img src="abdulkadir.png" id="target">
</div>

<script>
let health = 10000;
let maxHealth = 10000;
let hits = 0;
let damage = 20;

let record = localStorage.getItem("rekor")
  ? Number(localStorage.getItem("rekor"))
  : 0;

document.getElementById("record").innerText = record;

function startGame(){
  const name = document.getElementById("username").value.trim().toLowerCase();
  if(name === "admin") damage = 2000;

  document.getElementById("startScreen").style.display = "none";
  document.getElementById("game").style.display = "block";
}

document.getElementById("target").addEventListener("click", ()=>{
  hits++;
  health -= damage;

  if(health < 0) health = 0;

  document.getElementById("hits").innerText = hits;
  document.getElementById("healthText").innerText = health;
  document.getElementById("hp").style.width = (health/maxHealth*100) + "%";

  if(hits > record){
    record = hits;
    localStorage.setItem("rekor", record);
    document.getElementById("record").innerText = record;
  }

  if(health === 0){
    health = maxHealth;
    document.getElementById("hp").style.width = "100%";
    document.getElementById("healthText").innerText = health;
  }
});
</script>

</body>
</html>
