<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ABDÃœLKADÄ°Râ€™Ä° TOKATLAMA OYUNU</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  text-align:center;
  overflow:hidden;
}
.hidden{display:none}

#startScreen, #messageScreen{
  position:fixed;
  inset:0;
  background:#000c;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:10;
}

input, button{
  padding:10px 15px;
  font-size:16px;
  border-radius:8px;
  border:none;
  margin:6px;
}

#canBar{
  width:80%;height:16px;background:#444;
  margin:10px auto;border-radius:10px;overflow:hidden;
}
#can{width:100%;height:100%;background:limegreen}

#oyun{position:relative;width:100%;height:65vh}

#oyuncuFoto{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:300px;border-radius:20px;
}

.shake{animation:shake .15s}
@keyframes shake{
  0%{transform:translate(-50%,-50%)}
  25%{transform:translate(-47%,-50%) rotate(1deg)}
  50%{transform:translate(-53%,-50%) rotate(-1deg)}
  75%{transform:translate(-47%,-50%) rotate(1deg)}
  100%{transform:translate(-50%,-50%)}
}

.firework{
  position:fixed;
  font-size:30px;
  animation:fw 1.2s forwards;
}
@keyframes fw{
  0%{transform:scale(0);opacity:1}
  100%{transform:scale(3);opacity:0}
}
</style>
</head>

<body>

<div id="startScreen">
  <h2>Ä°smini Yaz</h2>
  <input id="playerName" placeholder="Ä°smin">
  <button onclick="startGame()">Oyna</button>
</div>

<div id="messageScreen" class="hidden">
  <h2>AbdÃ¼lkadir'den size bir mesaj var</h2>
  <button onclick="showStory()">Oku</button>
  <p id="story" class="hidden">
Bir gÃ¼n 32 gelsin diye bekliyorum. AbdÃ¼lkadir geldi, Emirhan abi bir kere yalayayÄ±m mÄ± seninkini dedi.
Ben de dedim ki kardeÅŸim yok ya ÅŸimdi olur mu insanlar var.
Ertesi gÃ¼n oldu tuvaletin orada kulaÄŸÄ±ma fÄ±sÄ±ldadÄ±: abi dedi ÅŸu yalama iÅŸini bir halletsek.
Ben de dedim kardeÅŸim olur ama bir fiyat konuÅŸmamÄ±z lazÄ±m.
Neyse geÃ§tik tuvalette konuÅŸuyoruz, fiyatta anlaÅŸamadÄ±kâ€¦ ben bunu dÃ¶vdÃ¼m.
  </p>
</div>

<h1>ABDÃœLKADÄ°Râ€™Ä° TOKATLAMA OYUNU</h1>

<div id="canBar"><div id="can"></div></div>
<div>
Tokat: <span id="tokat">0</span> |
Rekor: <span id="rekor">0</span><br>
AbdÃ¼lkadir CanÄ±: <span id="boss">100</span>
</div>

<div id="oyun">
  <img id="oyuncuFoto" src="abdulkadir.png">
</div>

<script>
let maxCan = 10000;
let can = maxCan;
let hasar = 20;

let tokat = 0;
let bossCan = 100;
let bossKillCount = 0;
let messageShown = false;

let rekor = parseInt(localStorage.getItem("rekor") || 0);
let rekorKutlandi = false;

const tokatY = document.getElementById("tokat");
const rekorY = document.getElementById("rekor");
const bossY = document.getElementById("boss");
const canBar = document.getElementById("can");
const foto = document.getElementById("oyuncuFoto");

rekorY.innerText = rekor;
bossY.innerText = bossCan;

const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

function tokatSesi(){
  const b = audioCtx.createBuffer(1,audioCtx.sampleRate*0.1,audioCtx.sampleRate);
  const d = b.getChannelData(0);
  for(let i=0;i<d.length;i++) d[i]=(Math.random()*2-1)*(1-i/d.length);
  const s = audioCtx.createBufferSource();
  s.buffer = b;
  s.connect(audioCtx.destination);
  s.start();
}

function fireworks(){
  for(let i=0;i<20;i++){
    const f = document.createElement("div");
    f.className="firework";
    f.innerText=["ðŸŽ†","ðŸŽ‡","âœ¨"][Math.floor(Math.random()*3)];
    f.style.left=Math.random()*100+"vw";
    f.style.top=Math.random()*100+"vh";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1200);
  }
}

function vur(){
  tokat++;
  can -= hasar;

  foto.classList.add("shake");
  setTimeout(()=>foto.classList.remove("shake"),150);
  tokatSesi();

  if(tokat > rekor){
    rekor = tokat;
    localStorage.setItem("rekor",rekor);
    rekorY.innerText = rekor;
    if(!rekorKutlandi){
      fireworks();
      rekorKutlandi = true;
    }
  }

  if(can <= 0){
    can = maxCan;
    bossCan--;
    bossKillCount++;
    bossY.innerText = bossCan;

    if(bossCan <= 0){
      bossCan = 100;
      bossY.innerText = bossCan;
    }

    if(bossKillCount >= 100 && !messageShown){
      fireworks();
      document.getElementById("messageScreen").classList.remove("hidden");
      messageShown = true;
    }
  }

  tokatY.innerText = tokat;
  canBar.style.width = (can/maxCan*100)+"%";
}

document.addEventListener("click",()=>{
  if(!document.getElementById("startScreen").classList.contains("hidden")) return;
  vur();
});

function startGame(){
  const name = document.getElementById("playerName").value.trim().toLowerCase();
  if(name === "admin"){
    hasar = 2000;
    alert("ADMIN MOD AKTÄ°F ðŸ”¥");
  }
  document.getElementById("startScreen").classList.add("hidden");
}

function showStory(){
  document.getElementById("story").classList.remove("hidden");
}
</script>

</body>
</html>
